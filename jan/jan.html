<html>
	Use the arrowkeys! This website doesn't support mobile inputs yet. Make sure to flame J4N#1706 for being to lazy to finish this.
<canvas id="gc" width=727 height=727></canvas>
<script>
var canvas;
var ctx;

var framerate_changer = 3

//Input variables
left=right=0;		//left and right inputs
jump=0;

// Player variables
gay_ified=181;		//rainbow trail (bad for your eyes and mental health)
xthiccness=30;		//player size on x

px=py=0;			//player x and y position
vx=vy=0;			//player x and y velocity
gravity=10;
speed=14;
accel=0.04;			//acceleration
decel=0.2;			//deceleration
pivotcel=0.1;		//acceleration when changing directions
drawWrappedBoy = false



window.onload = function() {
	canvas = document.getElementById("gc");
	ctx = canvas.getContext("2d");
	canvas.width = window.innerWidth-18;
	canvas.height = window.innerHeight-34;

	window.addEventListener('resize', () => {
		canvas.width = window.innerWidth-18;
		canvas.height = window.innerHeight-34;
		draw();
		})


	document.addEventListener("keydown",inputPressed);
	document.addEventListener("keyup",inputReleased);

	var framerate = 60 * framerate_changer;
	setInterval(process,1000/framerate);
}


function inputPressed(evt) {
	switch(evt.keyCode) {
		case 37:
			left = -1;
			break;
		case 39:
			right = 1;
			break;
		case 38:
			jump = 1;
			break;
   	 }
}

function inputReleased(evt) {
	switch(evt.keyCode) {
		case 37:
			left = 0;
			break;
		case 39:
			right = 0;
			break;
		case 38:
			jump = 0;
			break;
   	 }
}


function process() {
	physics();
	draw();
}


function physics() {

	// Intended Movement and acceleration
	var intMove = (left + right) * speed;
	var cel = 0;

	if(Math.sign(intMove)*Math.sign(vx) == -1) {
		cel = pivotcel;
	}
	else {
		if(Math.abs(intMove) > Math.abs(vx)) {
			cel = accel;
		}
		else {
			cel = decel;
		}
	}

	vx = vx + (intMove - vx) * cel / framerate_changer;


	// Gravity
	if(py < canvas.height-45) {
		vy -= 0.25 / framerate_changer;
	}
	else {
		vy = 0;
		if(jump==1) {
			vy = 10;
		}
	}


	px += vx / framerate_changer;
	py -= vy / framerate_changer;
	py = Math.min(py, canvas.height-45);

	// Wrapping logic
	if(px < 0 || px > canvas.width-xthiccness) {
		drawWrappedBoy = true;
		if(px < 0-30) {
			px += canvas.width;
		}
		if(px > canvas.width-xthiccness) {
			px -= canvas.width;
		}
	}
}


function draw() {
	gay_ified += 3 / framerate_changer;
	ctx.fillStyle = 'rgba(120,120,120,0.02)';
	ctx.fillRect(0,0,canvas.width,canvas.height);
	ctx.fillStyle = 'hsl(' + gay_ified + ',100%,41%)';
	ctx.fillRect(px,py,xthiccness,30);

	if (drawWrappedBoy) {
		ctx.fillStyle = 'hsl(' + gay_ified + ',100%,41%)';
		ctx.fillRect(px+canvas.width,py,xthiccness,30);
	}
}

</script>

</html>
